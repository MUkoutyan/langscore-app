# Tips {#tips}

## Langscoreアプリ利用編

### パッキングモードの問題確認で、意図的に書いた箇所が警告にされる

警告・エラーはあくまで修正時のヒントになります。
書き出したファイルに手が加えられる事はありませんので、そのままご利用ください。


## CSV作成編

### 翻訳しない文章も含んでるけど問題有る？

正しく翻訳されない事を除けば、スクリプトの翻訳以外で問題になることはほぼありません。

スクリプトの翻訳ファイルはオリジナルの文章に識別子を含んでいるため、ミスするとバグのような表示がされてしまいます。

また翻訳システム処理の注意点として、未翻訳含めて翻訳の数が多いほど検索に時間がかかります。

昨今のPCスペックでは問題になることはあまりないと思いますが、
テストプレイ時に動作がカクつく場合は、不要な翻訳文の削除も検討してください。

### Excelで読み込むと文字化けが起こる

修正予定の不具合です。

LangscoreのCSVは文字コードをUTF-8で出力しており、Excelで読み込むにはBom付きUTF-8出ないと正しく読み込めません。

お手数ですが、メモ帳等でBom付きUTF-8に変換してください。

なお、ゲームではUTF-8とBom付きUTF-8は気にせず使用できます。

### スクリプトで何を無視したら良いのか分からない

除外可能なものには記号系の文字があります。

%や.\といった記号のみの箇所は翻訳する必要が殆どありません。


また、文章の翻訳をメインに考えると、日本語以外の文は除外対象になる可能性が高いです。

以下に翻訳対象になりそうなケースとならなそうなケースをあげます。

#### 日本語以外の文で翻訳対象になりそうなケース

* 戦闘中の効果表示(HIT! COMBO!等)
* フォント名
* draw_messageの様な、描画に使われそうな変数に格納されている文章

#### ならなそうなケース

* ファイルパス名やファイル名
* サウンド名
* _01のような、接尾辞だけの文章

@note 翻訳したい文章が英語で書かれている場合、無理に翻訳しないことも選択肢に入ります。<br>
ゲームの雰囲気・方向性にもよりますが、HIT!やCOMBO!, VolumeやSEといった単語はそのままでも通じる可能性が高いです。<br>
世界共通言語に甘んじて、翻訳コストを下げていきましょう。

日本語の文章でも、デバッグ用途や内部制御に使用している箇所は除外対象になります。

* 特定の制御を行うためのタグ・キーワードを決めている箇所
* raiseが使用されている(VX Ace)
  - raise "なんとかかんとか" といった箇所
* 連想配列で使用されている
  - value["なんとか"] といった、変数名[]で囲まれている箇所
* 明らかにゲーム表示されない文章
  - ">>>ここに入るのはおかしい！<<<" といった文章


スクリプトの場合はコメントがヒントになる場合もありますので、プレビューで確認しながらチェックしていきましょう。


## ゲーム内動作編

### 別の言語を選んだのに元の言語で表示される！

マップデータやイベントデータの場合、以下の可能性が考えられます。

* 翻訳CSVが読み込まれていない
* 翻訳CSVファイルの内容で、該当言語の箇所が空になっている

スクリプトを使用している箇所の場合、以下の可能性が考えられます。

* langscore_customに更新処理を書いていない
* .lstransが必要な箇所なのに、書かれていない


### 12345678:90:123 みたいなテキストが表示される！

スクリプトを使用している箇所で、翻訳文が空の場合に発生します。

翻訳文を割り当ててください。

翻訳文が見つからなかった場合はオリジナルの文章を探し出すため、「スクリプトファイル名:行数:列数」の文章が表示されます。


### そもそも文章が翻訳されない

翻訳ファイルが読み込まれていない可能性があります。

* langscore.rbのTRANSLATE_FOLDER変数に格納されているパスに、翻訳ファイルは含まれていますか？
  * デフォルトは```Data/Translate```になります。
* エディター内からのゲーム実行、またはコマンドプロンプトで"Game.exe console"を使用することで、内部ログを見ることが出来ます。


### テストプレイで翻訳を確認する時にパッキングし直すのがめんどい

文章の折り返しが正しく行えているかの確認の為に、翻訳ファイルの修正とゲームの起動を繰り返す場合があります。

パッキングはあくまで暗号化を行う最終まとめ時に必要な処理なので、テストプレイ時には必要ありません。

テストプレイ時や作業時は、CSVファイルを直接翻訳フォルダに置いて作業することをオススメします。

なお、Langscoreは ```.rvdata2 -> .csv```の順に翻訳ファイルを探します。

